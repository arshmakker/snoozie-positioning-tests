<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Snoozie â€“ Build Better Sleep Habits</title>
  <link rel="stylesheet" href="../shared/base.css">
  <link rel="stylesheet" href="style.css">
  <!-- Privacy-friendly analytics by Plausible -->
  <script
    defer
    data-domain="arshmakker.github.io"
    src="https://plausible.io/js/script.js">
  </script>
</head>
<body>
  <div class="container">
    <h1>Build better sleep habits, one night at a time.</h1>
    
    <p class="subtext">
      Track sleep, reduce interruptions,<br>
      wake up better.
    </p>

    <div class="form-wrapper">
      <form
        action="https://formspree.io/f/mjgbkyev"
        method="POST"
        class="email-form"
      >
        <input
          type="email"
          name="email"
          class="email-input"
          placeholder="your@email.com"
          required
          aria-label="Email address"
        >
        <button type="submit" class="cta-button">
          Join the quiet beta
        </button>
      </form>

      <p class="thank-you-message" hidden>
        Thank you. We'll be in touch.
      </p>
    </div>

    <p class="footer">No spam. No noise.</p>
  </div>

  <script>
    (function () {
      const form = document.querySelector('.email-form');
      const thankYou = document.querySelector('.thank-you-message');

      if (!form) return;

      form.addEventListener('submit', async function (e) {
        e.preventDefault();

        const response = await fetch(form.action, {
          method: form.method,
          body: new FormData(form),
          headers: { 'Accept': 'application/json' }
        });

        if (response.ok) {
          if (window.plausible) {
            plausible('BetaSignup', {
              props: { page: window.location.pathname }
            });
          }
          form.hidden = true;
          thankYou.hidden = false;
        }
      });
    })();
  </script>
</body>
</html>

